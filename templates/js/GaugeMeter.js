/* AshAlom Gauge Meter.  Version 2.0.0
 * Copyright AshAlom.com  All rights reserved.
 * https://github.com/AshAlom/GaugeMeter <- Deleted!
 * https://github.com/githubsrinath/GaugeMeter <- Backup original.
 * Original created by Dr Ash Alom
 * This is a bug fixed and modified version of the AshAlom Gauge Meter.
 * Copyright 2023 Michael Wolf (Mictronics)
 * https://github.com/mictronics/GaugeMeter
 */
!function($){$.fn.gaugeMeter=function(e){var t=$.extend({id:"",percent:0,used:null,min:null,total:null,size:100,prepend:"",append:"",theme:"Red-Gold-Green",color:"",back:"RGBa(0,0,0,.06)",width:3,style:"Full",stripe:"0",animationstep:1,animate_gauge_colors:!1,animate_text_colors:!1,label:"",label_color:"Black",text:"",text_size:.22,fill:"",showvalue:!1},e);return this.each(function(){function e($){if(""!==l.color&&null!==l.color&&void 0!==l.color)return l.color;var e="#2C94E0";return $||($=1e-14),"Red-Gold-Green"===l.theme&&($>0&&(e="#d90000"),$>10&&(e="#e32100"),$>20&&(e="#f35100"),$>30&&(e="#ff8700"),$>40&&(e="#ffb800"),$>50&&(e="#ffd900"),$>60&&(e="#dcd800"),$>70&&(e="#a6d900"),$>80&&(e="#69d900"),$>90&&(e="#32d900")),"Green-Gold-Red"===l.theme&&($>0&&(e="#32d900"),$>10&&(e="#69d900"),$>20&&(e="#a6d900"),$>30&&(e="#dcd800"),$>40&&(e="#ffd900"),$>50&&(e="#ffb800"),$>60&&(e="#ff8700"),$>70&&(e="#f35100"),$>80&&(e="#e32100"),$>90&&(e="#d90000")),"Green-Red"===l.theme&&($>0&&(e="#32d900"),$>10&&(e="#41c900"),$>20&&(e="#56b300"),$>30&&(e="#6f9900"),$>40&&(e="#8a7b00"),$>50&&(e="#a75e00"),$>60&&(e="#c24000"),$>70&&(e="#db2600"),$>80&&(e="#f01000"),$>90&&(e="#ff0000")),"Red-Green"===l.theme&&($>0&&(e="#ff0000"),$>10&&(e="#f01000"),$>20&&(e="#db2600"),$>30&&(e="#c24000"),$>40&&(e="#a75e00"),$>50&&(e="#8a7b00"),$>60&&(e="#6f9900"),$>70&&(e="#56b300"),$>80&&(e="#41c900"),$>90&&(e="#32d900")),"DarkBlue-LightBlue"===l.theme&&($>0&&(e="#2c94e0"),$>10&&(e="#2b96e1"),$>20&&(e="#2b99e4"),$>30&&(e="#2a9ce7"),$>40&&(e="#28a0e9"),$>50&&(e="#26a4ed"),$>60&&(e="#25a8f0"),$>70&&(e="#24acf3"),$>80&&(e="#23aff5"),$>90&&(e="#21b2f7")),"LightBlue-DarkBlue"===l.theme&&($>0&&(e="#21b2f7"),$>10&&(e="#23aff5"),$>20&&(e="#24acf3"),$>30&&(e="#25a8f0"),$>40&&(e="#26a4ed"),$>50&&(e="#28a0e9"),$>60&&(e="#2a9ce7"),$>70&&(e="#2b99e4"),$>80&&(e="#2b96e1"),$>90&&(e="#2c94e0")),"DarkRed-LightRed"===l.theme&&($>0&&(e="#d90000"),$>10&&(e="#dc0000"),$>20&&(e="#e00000"),$>30&&(e="#e40000"),$>40&&(e="#ea0000"),$>50&&(e="#ee0000"),$>60&&(e="#f30000"),$>70&&(e="#f90000"),$>80&&(e="#fc0000"),$>90&&(e="#ff0000")),"LightRed-DarkRed"===l.theme&&($>0&&(e="#ff0000"),$>10&&(e="#fc0000"),$>20&&(e="#f90000"),$>30&&(e="#f30000"),$>40&&(e="#ee0000"),$>50&&(e="#ea0000"),$>60&&(e="#e40000"),$>70&&(e="#e00000"),$>80&&(e="#dc0000"),$>90&&(e="#d90000")),"DarkGreen-LightGreen"===l.theme&&($>0&&(e="#32d900"),$>10&&(e="#33db00"),$>20&&(e="#34df00"),$>30&&(e="#34e200"),$>40&&(e="#36e700"),$>50&&(e="#37ec00"),$>60&&(e="#38f100"),$>70&&(e="#38f600"),$>80&&(e="#39f900"),$>90&&(e="#3afc00")),"LightGreen-DarkGreen"===l.theme&&($>0&&(e="#3afc00"),$>10&&(e="#39f900"),$>20&&(e="#38f600"),$>30&&(e="#38f100"),$>40&&(e="#37ec00"),$>50&&(e="#36e700"),$>60&&(e="#34e200"),$>70&&(e="#34df00"),$>80&&(e="#33db00"),$>90&&(e="#32d900")),"DarkGold-LightGold"===l.theme&&($>0&&(e="#ffb800"),$>10&&(e="#ffba00"),$>20&&(e="#ffbd00"),$>30&&(e="#ffc200"),$>40&&(e="#ffc600"),$>50&&(e="#ffcb00"),$>60&&(e="#ffcf00"),$>70&&(e="#ffd400"),$>80&&(e="#ffd600"),$>90&&(e="#ffd900")),"LightGold-DarkGold"===l.theme&&($>0&&(e="#ffd900"),$>10&&(e="#ffd600"),$>20&&(e="#ffd400"),$>30&&(e="#ffcf00"),$>40&&(e="#ffcb00"),$>50&&(e="#ffc600"),$>60&&(e="#ffc200"),$>70&&(e="#ffbd00"),$>80&&(e="#ffba00"),$>90&&(e="#ffb800")),"White"===l.theme&&(e="#fff"),"Black"===l.theme&&(e="#000"),e}$(this).attr("data-id",$(this).attr("id"));var a,i,n,f,l={},d=0,o=$(this),r=!1;if(o.addClass("gaugeMeter"),f=o,$.each(["percent","used","min","total","size","prepend","append","theme","color","back","width","style","stripe","animationstep","animate_gauge_colors","animate_text_colors","label","label_color","text","text_size","fill","showvalue"],function(e,a){void 0!==f.data(a)&&null!==f.data(a)?l[a]=f.data(a):l[a]=$(t).attr(a),"fill"===a&&(r=l[a]),"size"!==a&&"width"!==a&&"animationstep"!==a&&"stripe"!==a||Number.isInteger(l[a])||(l[a]=parseInt(l[a])),"text_size"===a&&(l[a]=parseFloat(l[a]))}),Number.isInteger(l.used)&&Number.isInteger(l.total)){var s=l.used,c=l.total;Number.isInteger(l.min)&&l.min<0&&(c-=l.min,s-=l.min),d=s/(c/100)}else d=Number.isInteger(l.percent)?l.percent:parseInt(t.percent);d<0&&(d=0),d>100&&(d=100),""!==l.text&&null!==l.text&&void 0!==l.text?(n=""!==l.append&&null!==l.append&&void 0!==l.append?l.text+"<u>"+l.append+"</u>":l.text,""!==l.prepend&&null!==l.prepend&&void 0!==l.prepend&&(n="<s>"+l.prepend+"</s>"+n)):(n=!0===t.showvalue||!0===l.showvalue?"<output>"+l.used+"</output>":"<output>"+d.toString()+"</output>",""!==l.prepend&&null!==l.prepend&&void 0!==l.prepend&&(n="<s>"+l.prepend+"</s>"+n),""!==l.append&&null!==l.append&&void 0!==l.append&&(n=n+"<u>"+l.append+"</u>")),l.fgcolor=e(d),!function e(t){var a="";!0===l.animate_text_colors&&(a=l.fgcolor);var i=t.children("span");if(0!==i.length){i.html(n).css({color:a});return}(l.text_size<=0||Number.isNaN(l.text_size))&&(l.text_size=.22),l.text_size>.5&&(l.text_size=.5),$("<span></span>").appendTo(t).html(n).css({"line-height":l.size+"px","font-size":l.text_size*l.size+"px",color:a})}(o),""!==l.style&&null!==l.style&&void 0!==l.style&&(a=o,i=l.size/13,0===a.children("b").length&&$("<b></b>").appendTo(a).html(l.label).css({"line-height":l.size+5*i+"px",color:l.label_color})),$(this).width(l.size+"px");var p=$("<canvas></canvas>").attr({width:l.size,height:l.size}).get(0),h=p.getContext("2d"),u=p.width/2,_=p.height/2,g=(l.percent,p.width/2.5),m=2.3*Math.PI,b=0,x=0===l.animationstep?d:0,v=Math.max(l.animationstep,0),z=2*Math.PI,k=Math.PI/2,w=$(this).children("canvas");0!==w.length?w.replaceWith(p):$(p).appendTo($(this)),"Semi"===l.style?(m=2*Math.PI,b=3.13,z=1*Math.PI,k=Math.PI/.996):"Arch"===l.style&&(m=2.195*Math.PI,b=655.99999,z=1.4*Math.PI,k=Math.PI/.8335),function a(i){l.animate_gauge_colors&&(l.fgcolor=e(100*i)),x<0&&(x=0),x>100&&(x=100);var n=l.width<1||isNaN(l.width)?l.size/20:l.width;h.clearRect(0,0,p.width,p.height),h.beginPath(),h.arc(u,_,g,b,m,!1),r&&(h.fillStyle=l.fill,h.fill()),h.lineWidth=n,h.strokeStyle=l.back,l.stripe>parseInt(0)?h.setLineDash([l.stripe],1):h.lineCap="round",h.stroke(),h.beginPath(),h.arc(u,_,g,-k,z*i-k,!1),h.lineWidth=n,h.strokeStyle=l.fgcolor,h.stroke(),d>x&&(x+=v,requestAnimationFrame(function(){a(Math.min(x,d)/100),l.animate_text_colors&&$(o).find("span").css({color:l.fgcolor}),!0===t.showvalue||!0===l.showvalue?$(o).find("output").text(l.used):$(o).find("output").text(x)},o))}(x/100)})}}(jQuery);